<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<style>
#wrapper {border: solid black 2px; vertical-aligh:top;}
#wrapper  tr td {vertical-align:top; border: solid black 2px;}
</style>
<title>jQuery objects and functions</title>
<script src="http://code.jquery.com/jquery-1.10.2.js"></script>
<script src="http://code.jquery.com/ui/1.11.2/jquery-ui.js"></script>
<link rel="stylesheet" href="http://code.jquery.com/ui/1.11.2/themes/smoothness/jquery-ui.css">
<script>
var xxx = "TestCase";
var globalObject = this;
function getInfo(obj, dest) {
	var working = new Array();
	var iPos = 0;
	for (key in obj) {
		working[iPos] = key;
		iPos++;
	}
	// alert ("Size of array is " + working.length);
	working.sort();
	var list = "";
	var iTemp;
    for ( iTemp = 0; iTemp < working.length; iTemp++) {
		list = list + "<tr><td>" + iTemp + "</td><td>"+ working[iTemp] + "</td><td>" +
		typeof obj[working[iTemp]] + "</td></tr>\r";
	}
	var loc = document.getElementById(dest);
	loc.innerHTML = list;
	// alert(list);
	return list;
}
function getSource(funct, dest) {
	var working = funct.toString();
	working = working.replace(/&/gm, "&amp;")
	working = working.replace(/</g,"&lt;").
	working = working.replace(/>/gm, "&gt;");
    working = working.replace(/(\r\n|\r|\n)/gm, "<br />");
    var loc = document.getElementById(dest);
    loc.innerHTML = working;
}
function runWhenReady() {
	getInfo(jQuery, "table1");
	var second = jQuery('p');
	getInfo(second, 'table2');
	getInfo(window, 'table3');
	getInfo(jQuery.fn, 'table4');
	getSource(jQuery.fn.init, "item3");
    getSource(window.jQuery, "item4");
}
$('document').ready(runWhenReady);
</script>
</head>
<body>
<h1>Demonstration of jQuery</h1>
<p>The purpose of this page is to help the reader 
   understand how jQuery works.  I have seen a number
   of books describing how to set up jQuery statements,
   but I haven't really seen many good explanations of how
   it works.</p>
<p>When you load the JavaScript code for jQuery, you create two
   items.</p>
   <ol>
   <li>The first is the global jQuery object.  
       <a href="http://api.jquery.com/category/properties/global-jquery-object-properties/"
       target="_blank">(See jQuery API information)</a>  This is tricky because this is not
       what the jQuery documentation refers to as a jQuery object.  It is a set of utilities  and properties
       used by the jQuery system.</li>
   <li>The second item is the jQuery function.  This function creates an object that contains
       a list of elements in the HTML document.  What the jQuery documentation refers to as the
       jQuery object is an object created by the jQuery function.  The jQuery function is attached
       to the global window object.</li>
</ol>
<p>In the table below, you will see the contents of the global jQuery object on the left.  The list in
   the middle shows the contents of the jQuery object created by jQuery('p'), which contains a list of 
   all the p (paragraph) tags.  The item length is the number of elements that were found, 
   and the individual elements
   are in the objects whose names are numbers (0, 1, 2, etc).  The jQuery object also contains all
   of the functions that can be executed against the object.</p>
<table id="wrapper"><tr><td>
Contents of global jQuery object.  Some of the documentation says that the
global object is attached to the window object, but I see the jQuery function there
instead.</td>
<td>Contents of jQuery.fn (jQuery prototype)</td>
<td>Contents of jQuery object created by jQuery('p')</td>
<td>Contents of window object.  Please note that the jQuery function
    appears here instead of the jQuery object.  However, the xxx string
    variable does appear in this list.</td></tr>
<tr><td><table id="table1"></table></td>
<td><table id="table4"></table></td>
<td><table id="table2"></table>
</td>
<td><table id="table3"></table>
</td></tr></table>

<h2>jQuery.fn.init function</h2>
<p id="item3"></p><p>
<h2>window.jQuery</h2>
<p id="item4"></p>
<h2>Global Objects</h2>
<p>It appears that using var to create a variable will put it in the
   global set and copy it to the window properties.  However, if you then
   create a function with the same name, it will overwrite the 
   window property.</p>
</body>
</html>